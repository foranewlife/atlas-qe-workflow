# Multi-structure EOS Study Configuration
# 重新组织：结构参数在structures，模板文件在combinations

system: "multi_structure_eos"
description: "Multiple structures and methods EOS study"

# 赝势集定义 - 全局共享
pseudopotential_sets:
  gaas_lda_lpp_density:
    Ga: "ga.lda.lpp.lpp_density.UPF"
    As: "as.lda.lpp.lpp_density.UPF"
  gaas_lda_nlpp:
    Ga: "ga.lda.nlpp.UPF"
    As: "as.lda.nlpp.UPF"
  mg_lda:
    Mg: "mg.lda.upf"

# 结构定义 - 每个结构有自己的体积参数和平衡体积
structures:
  - name: "gaas_zincblende"
    elements: ["Ga", "As"]
    file: "POSCAR"
    description: "GaAs zincblende structure"
    volume_range: [0.8, 1.1]
    volume_points: 15

  - name: "gaas_wurtzite"
    elements: ["Ga", "As"]
    file: "POSCAR_wurtzite"
    description: "GaAs wurtzite structure"
    volume_range: [0.8, 1.1]
    volume_points: 15

  - name: "mg_fcc"
    elements: ["Mg"]
    structure_type: "fcc"
    lattice_parameter: 4.54     # Å
    description: "Mg FCC structure"
    volume_range: [0.7, 1.3]
    volume_points: 13

# 参数组合枚举 - 每个组合指定方法参数和使用的赝势集
parameter_combinations:

  # ATLAS 计算组合
  - name: "atlas_kedf701_gaas_lda_lpp_density"
    software: "atlas"
    template_file: "atlas.in.template"
    applies_to_structures: ["gaas_zincblende", "gaas_wurtzite"]
    pseudopotential_set: "gaas_lda_lpp_density"
    template_substitutions:
      KEDF: 701

  - name: "atlas_kedf801_gaas_lda_lpp_density"
    software: "atlas"
    template_file: "atlas.in.template"
    applies_to_structures: ["gaas_zincblende", "gaas_wurtzite"]
    pseudopotential_set: "gaas_lda_lpp_density"
    template_substitutions:
      KEDF: 801

  - name: "atlas_kedf701_gaas_lda_nlpp"
    software: "atlas"
    template_file: "atlas.in.template"
    applies_to_structures: ["gaas_zincblende"]
    pseudopotential_set: "gaas_lda_nlpp"
    template_substitutions:
      KEDF: 701

  - name: "atlas_kedf801_mg_lda"
    software: "atlas"
    template_file: "atlas.in.template"
    applies_to_structures: ["mg_fcc"]
    pseudopotential_set: "mg_lda"
    template_substitutions:
      KEDF: 801

  # QE 计算组合
  - name: "qe_ecut60_gaas_lda_lpp_density"
    software: "qe"
    template_file: "job.in.template"
    applies_to_structures: ["gaas_zincblende", "gaas_wurtzite"]
    pseudopotential_set: "gaas_lda_lpp_density"
    template_substitutions: {}

  - name: "qe_ecut60_mg_lda"
    software: "qe"
    template_file: "job.in.template"
    applies_to_structures: ["mg_fcc"]
    pseudopotential_set: "mg_lda"
    template_substitutions: {}

# 数据路径配置
data_paths:
  base_directory: "./results"
  pseudopotentials: "/Users/chenys/project/TB-OFDFT/phase2/project/ncpp_density/eos/qe/eos/gaas"
  reference_data: "/Users/chenys/project/TB-OFDFT/phase2/project/ncpp_density/eos"
